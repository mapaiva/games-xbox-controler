<!DOCTYPE html>
<html>
<head>
  <title>Canvas Game - Games Gallery using Xbox Controller Interface</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <link href='http://fonts.googleapis.com/css?family=Bitter' rel='stylesheet' type='text/css'>
  <link href='/resources/css/all.css' rel='stylesheet' type='text/css' />

  <script src="/socket.io/socket.io.js"></script>
  <script src="/resources/js/GE.js"></script>
  <script src="/resources/js/canvas-game.js"></script>
  <script charset="utf-8">
    var GE = new GE();

    function load() {
      var game = new Game();

      GE.socket.on('generalerror', function (msg) {
        GE.showError(msg);
      });

      GE.socket.on('controllerdata', function (dir, ctrl) {
        switch(dir){
          case 'right':
            game.moveRight(50);
            break;
          case 'left':
            game.moveLeft(50);
            break;
          case 'down':
            game.moveDown(50);
            break;
          case 'up':
            game.moveUp(50);
            break;
        }

        switch(ctrl){
          case 'a':
            GE.showSuccess('[A] button pressed');
            break;
          case 'b':
            GE.showSuccess('[B] button pressed');
            break;
          case 'x':
            GE.showSuccess('[X] button pressed');
            break;
          case 'y':
            GE.showSuccess('[Y] button pressed');
            break;
          case 'rb':
            GE.showSuccess('[RB] button pressed');
            break;
          case 'lb':
            GE.showSuccess('[LB] button pressed');
            break;
          case 'start':
            GE.showSuccess('[Start] button pressed');
            break;
          case 'select':
            GE.showSuccess('[Select] button pressed');
            break;
        }
      });
    }

    window.onload = load;
  </script>
</head>
<body>
  <div class="side-menu">
    <div class="header">
      <a href="/" class="h1"><img src="/resources/images/xbox-controller.fw.png" /> Games Gallery</a>
      <h4>Games using <code>xbox-controller-node</code></h4>
    </div>
  </div>
  <div class="game-workspace">
    <h1>Canvas Game</h1>
    <canvas class="workspace-game"></canvas>
  </div>
</body>
</html>
